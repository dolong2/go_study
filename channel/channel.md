# Go lang 채널
Go 채널은 해당 채널을 통해서 데이터를 주고받는 통로라 볼 수 있다.

채널은 make 함수를 통해서 미리 생성되어야 하며 채널 연산자인 `<-`를 통해서 주고 받는다.

주로 goroutine 사이 데이터를 주고 받는데 사용되는데 상대편이 준비 될때까지 대기 함으로써 별도의 lock을 걸지 않고서 데이터를 동기화하는데 사용한다.

```go
package main

func main() {
  // 정수형 채널을 생성한다 
  ch := make(chan int)
 
  go func() {
    ch <- 123   //채널에 123을 보낸다
  }()
 
  var i int
  i = <- ch  // 채널로부터 123을 받는다
  println(i)
}
``` 
위 예제는 채널을 생성하고, goroutine에서 데이터를 전송할때까지 계속 대기하게 됨

go 채널은 수신자와 송신자가 서로를 기다리는 특징 때문에, goroutine이 끝날 때까지 대기하는 기능을 구현할 수 있다.

### go 채널 버퍼링
Go 채널은 Unbuffered Channel로서 이 채널에서는 하나의 수신자가 데이타를 받을 때까지 송신자가 데이타를 보내는 채널에 묶여 있게 된다.

하지만, Buffered Channel을 사용하면 비록 수신자가 받을 준비가 되어 있지 않을 지라도 지정된 버퍼만큼 데이타를 보내고 계속 다른 일을 수행할 수 있다.

버퍼 채널은 `make(chan type, N)` 함수를 통해 생성되는데, 두번째 파라미터 N에 사용할 버퍼 갯수를 넣는다.

예를 들어, `make(chan int, 10)`은 10개의 정수형을 갖는 버퍼 채널을 만든다

### go 채널 파라미터
채널을 함수의 파라미터로 전달할때 송신용인지 수신용인지 지정할 수도 있다.

송신 파라미터는 `chan <- 자료형`을 사용하고, 수신 파라미터는 `-> chan 자료형`으로 사용할 수 있다.

송신파라미터에서 수신을 하거나 수신파라미터에서 송신을 하면 에러가 발생한다.

### 채널 닫기
채널을 열고, 데이터를 송산한 후, close함수를 사용해서 채널을 닫을 수 있다.

채널을 닫게되면, 해당 채널로는 송신을 할 수 없지만, 수신은 가능하다.

채널을 수신할때 사용하는 `<- 채널명`은 두개의 리턴 값을 가지는데 첫째는 채널메세지와 둘째는 수신이 제대로 되는가를 나타낸다.

만약 채널이 닫혔다면 둘째 값은 `false`를 가진다.

### 채널 range
range문을 사용해서 채널이 닫힌것을 감지할때까지 계속해서 수신하게 할 수 있다.

```
for 변수명 := range 채널 {
    //내용
}
```